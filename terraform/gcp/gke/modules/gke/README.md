## Documentation

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->

## Requirements

| Name                                                                           | Version  |
| ------------------------------------------------------------------------------ | -------- |
| <a name="requirement_terraform"></a> [terraform](#requirement_terraform)       | >= 1.0.0 |
| <a name="requirement_google"></a> [google](#requirement_google)                | 4.84.0   |
| <a name="requirement_google-beta"></a> [google-beta](#requirement_google-beta) | 4.84.0   |

## Providers

| Name                                                      | Version |
| --------------------------------------------------------- | ------- |
| <a name="provider_google"></a> [google](#provider_google) | 4.84.0  |

## Modules

| Name                                         | Source                                                                          | Version |
| -------------------------------------------- | ------------------------------------------------------------------------------- | ------- |
| <a name="module_gke"></a> [gke](#module_gke) | terraform-google-modules/kubernetes-engine/google//modules/beta-private-cluster | 28.0.0  |

## Resources

| Name                                                                                                                                     | Type        |
| ---------------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| [google_compute_network.network](https://registry.terraform.io/providers/hashicorp/google/4.84.0/docs/data-sources/compute_network)      | data source |
| [google_compute_subnetwork.subnet](https://registry.terraform.io/providers/hashicorp/google/4.84.0/docs/data-sources/compute_subnetwork) | data source |
| [google_pubsub_topic.gke](https://registry.terraform.io/providers/hashicorp/google/4.84.0/docs/data-sources/pubsub_topic)                | data source |

## Inputs

| Name                                                                                                                                             | Description                                                                                                                                                                                                                                                                                                                                         | Type                                                                                                                                                                                                                                                                                                                                       | Default                                                                                                                                                                                                                                                   | Required |
| ------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------: |
| <a name="input_cloudrun"></a> [cloudrun](#input_cloudrun)                                                                                        | (Beta) Enable CloudRun addon                                                                                                                                                                                                                                                                                                                        | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_cluster_autoscaling"></a> [cluster\_autoscaling](#input_cluster_autoscaling)                                                      | Cluster autoscaling configuration. See [more details](https://cloud.google.com/kubernetes-engine/docs/reference/rest/v1beta1/projects.locations.clusters#clusterautoscaling)                                                                                                                                                                        | <pre>object({<br> enabled = bool<br> autoscaling_profile = string<br> min_cpu_cores = number<br> max_cpu_cores = number<br> min_memory_gb = number<br> max_memory_gb = number<br> gpu_resources = list(object({ resource_type = string, minimum = number, maximum = number }))<br> auto_repair = bool<br> auto_upgrade = bool<br> })</pre> | <pre>{<br> "auto_repair": true,<br> "auto_upgrade": true,<br> "autoscaling_profile": "BALANCED",<br> "enabled": false,<br> "gpu_resources": [],<br> "max_cpu_cores": 0,<br> "max_memory_gb": 0,<br> "min_cpu_cores": 0,<br> "min_memory_gb": 0<br>}</pre> |    no    |
| <a name="input_cluster_resource_labels"></a> [cluster\_resource\_labels](#input_cluster_resource_labels)                                         | The GCE resource labels (a map of key/value pairs) to be applied to the cluster                                                                                                                                                                                                                                                                     | `map(string)`                                                                                                                                                                                                                                                                                                                              | `{}`                                                                                                                                                                                                                                                      |    no    |
| <a name="input_config_connector"></a> [config\_connector](#input_config_connector)                                                               | (Beta) Whether ConfigConnector is enabled for this cluster.                                                                                                                                                                                                                                                                                         | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_create_service_account"></a> [create\_service\_account](#input_create_service_account)                                            | Defines if service account specified to run nodes should be created.                                                                                                                                                                                                                                                                                | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_datapath_provider"></a> [datapath\_provider](#input_datapath_provider)                                                            | The desired datapath provider for this cluster. By default, `DATAPATH_PROVIDER_UNSPECIFIED` enables the IPTables-based kube-proxy implementation. `ADVANCED_DATAPATH` enables Dataplane-V2 feature.                                                                                                                                                 | `string`                                                                                                                                                                                                                                                                                                                                   | `"DATAPATH_PROVIDER_UNSPECIFIED"`                                                                                                                                                                                                                         |    no    |
| <a name="input_default_max_pods_per_node"></a> [default\_max\_pods\_per\_node](#input_default_max_pods_per_node)                                 | The maximum number of pods to schedule per node                                                                                                                                                                                                                                                                                                     | `number`                                                                                                                                                                                                                                                                                                                                   | `110`                                                                                                                                                                                                                                                     |    no    |
| <a name="input_disable_legacy_metadata_endpoints"></a> [disable\_legacy\_metadata\_endpoints](#input_disable_legacy_metadata_endpoints)          | Disable the /0.1/ and /v1beta1/ metadata server endpoints on the node. Changing this value will cause all node pools to be recreated.                                                                                                                                                                                                               | `bool`                                                                                                                                                                                                                                                                                                                                     | `true`                                                                                                                                                                                                                                                    |    no    |
| <a name="input_dns_cache"></a> [dns\_cache](#input_dns_cache)                                                                                    | (Beta) The status of the NodeLocal DNSCache addon.                                                                                                                                                                                                                                                                                                  | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_enable_binary_authorization"></a> [enable\_binary\_authorization](#input_enable_binary_authorization)                             | Enable BinAuthZ Admission controller                                                                                                                                                                                                                                                                                                                | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_enable_confidential_nodes"></a> [enable\_confidential\_nodes](#input_enable_confidential_nodes)                                   | An optional flag to enable confidential node config.                                                                                                                                                                                                                                                                                                | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_enable_intranode_visibility"></a> [enable\_intranode\_visibility](#input_enable_intranode_visibility)                             | Whether Intra-node visibility is enabled for this cluster. This makes same node pod to pod traffic visible for VPC network                                                                                                                                                                                                                          | `bool`                                                                                                                                                                                                                                                                                                                                     | `false`                                                                                                                                                                                                                                                   |    no    |
| <a name="input_enable_kubernetes_alpha"></a> [enable\_kubernetes\_alpha](#input_enable_kubernetes_alpha)                                         | Whether to enable Kubernetes Alpha features for this cluster. Note that when this option is enabled, the cluster cannot be upgraded and will be automatically deleted after 30 days.                                                                                                                                                                | `bool`                                                                                                                                                                                                                                                                                                                                     | `false`                                                                                                                                                                                                                                                   |    no    |
| <a name="input_enable_private_nodes"></a> [enable\_private\_nodes](#input_enable_private_nodes)                                                  | (Beta) Whether nodes have internal IP addresses only                                                                                                                                                                                                                                                                                                | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_enable_shielded_nodes"></a> [enable\_shielded\_nodes](#input_enable_shielded_nodes)                                               | Enable Shielded Nodes features on all nodes in this cluster                                                                                                                                                                                                                                                                                         | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_enable_tpu"></a> [enable\_tpu](#input_enable_tpu)                                                                                 | Enable Cloud TPU resources in the cluster. WARNING: changing this after cluster creation is destructive!                                                                                                                                                                                                                                            | `bool`                                                                                                                                                                                                                                                                                                                                     | `false`                                                                                                                                                                                                                                                   |    no    |
| <a name="input_enable_vertical_pod_autoscaling"></a> [enable\_vertical\_pod\_autoscaling](#input_enable_vertical_pod_autoscaling)                | Vertical Pod Autoscaling automatically adjusts the resources of pods controlled by it                                                                                                                                                                                                                                                               | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_filestore_csi_driver"></a> [filestore\_csi\_driver](#input_filestore_csi_driver)                                                  | The status of the Filestore CSI driver addon, which allows the usage of filestore instance as volumes                                                                                                                                                                                                                                               | `bool`                                                                                                                                                                                                                                                                                                                                     | `false`                                                                                                                                                                                                                                                   |    no    |
| <a name="input_gce_pd_csi_driver"></a> [gce\_pd\_csi\_driver](#input_gce_pd_csi_driver)                                                          | (Beta) Whether this cluster should enable the Google Compute Engine Persistent Disk Container Storage Interface (CSI) Driver.                                                                                                                                                                                                                       | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_horizontal_pod_autoscaling"></a> [horizontal\_pod\_autoscaling](#input_horizontal_pod_autoscaling)                                | Enable horizontal pod autoscaling addon                                                                                                                                                                                                                                                                                                             | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_http_load_balancing"></a> [http\_load\_balancing](#input_http_load_balancing)                                                     | Enable httpload balancer addon                                                                                                                                                                                                                                                                                                                      | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_identity_namespace"></a> [identity\_namespace](#input_identity_namespace)                                                         | Workload Identity namespace. (Default value of `enabled` automatically sets project based namespace `[project_id].svc.id.goog`)                                                                                                                                                                                                                     | `string`                                                                                                                                                                                                                                                                                                                                   | `"enabled"`                                                                                                                                                                                                                                               |    no    |
| <a name="input_initial_node_count"></a> [initial\_node\_count](#input_initial_node_count)                                                        | The number of nodes to create in this cluster's default node pool.                                                                                                                                                                                                                                                                                  | `number`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_ip_range_pods"></a> [ip\_range\_pods](#input_ip_range_pods)                                                                       | The _name_ of the secondary subnet ip range to use for pods                                                                                                                                                                                                                                                                                         | `string`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_ip_range_services"></a> [ip\_range\_services](#input_ip_range_services)                                                           | The _name_ of the secondary subnet range to use for services                                                                                                                                                                                                                                                                                        | `string`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_istio"></a> [istio](#input_istio)                                                                                                 | (Beta) Enable Istio addon                                                                                                                                                                                                                                                                                                                           | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_logging_enabled_components"></a> [logging\_enabled\_components](#input_logging_enabled_components)                                | List of services to monitor: SYSTEM\_COMPONENTS, WORKLOADS.                                                                                                                                                                                                                                                                                         | `list(string)`                                                                                                                                                                                                                                                                                                                             | <pre>[<br> "SYSTEM_COMPONENTS",<br> "WORKLOADS"<br>]</pre>                                                                                                                                                                                                |    no    |
| <a name="input_logging_service"></a> [logging\_service](#input_logging_service)                                                                  | The logging service that the cluster should write logs to. Available options include logging.googleapis.com, logging.googleapis.com/kubernetes (beta), and none                                                                                                                                                                                     | `string`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_maintenance_end_time"></a> [maintenance\_end\_time](#input_maintenance_end_time)                                                  | Time window specified for recurring maintenance operations in RFC3339 format                                                                                                                                                                                                                                                                        | `string`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_maintenance_exclusions"></a> [maintenance\_exclusions](#input_maintenance_exclusions)                                             | List of maintenance exclusions. A cluster can have up to three                                                                                                                                                                                                                                                                                      | `list(object({ name = string, start_time = string, end_time = string, exclusion_scope = string }))`                                                                                                                                                                                                                                        | `[]`                                                                                                                                                                                                                                                      |    no    |
| <a name="input_maintenance_recurrence"></a> [maintenance\_recurrence](#input_maintenance_recurrence)                                             | Frequency of the recurring maintenance window in RFC5545 format.                                                                                                                                                                                                                                                                                    | `string`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_maintenance_start_time"></a> [maintenance\_start\_time](#input_maintenance_start_time)                                            | Time window specified for daily or recurring maintenance operations in RFC3339 format                                                                                                                                                                                                                                                               | `string`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_master_authorized_networks"></a> [master\_authorized\_networks](#input_master_authorized_networks)                                | List of master authorized networks. If none are provided, disallow external access (except the cluster node IPs, which GKE automatically whitelists).                                                                                                                                                                                               | `list(object({ cidr_block = string, display_name = string }))`                                                                                                                                                                                                                                                                             | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_master_ipv4_cidr_block"></a> [master\_ipv4\_cidr\_block](#input_master_ipv4_cidr_block)                                           | (Beta) The IP range in CIDR notation to use for the hosted master network                                                                                                                                                                                                                                                                           | `string`                                                                                                                                                                                                                                                                                                                                   | `"10.0.0.0/28"`                                                                                                                                                                                                                                           |    no    |
| <a name="input_monitoring_enable_managed_prometheus"></a> [monitoring\_enable\_managed\_prometheus](#input_monitoring_enable_managed_prometheus) | Configuration for Managed Service for Prometheus. Whether or not the managed collection is enabled.                                                                                                                                                                                                                                                 | `bool`                                                                                                                                                                                                                                                                                                                                     | `false`                                                                                                                                                                                                                                                   |    no    |
| <a name="input_monitoring_enabled_components"></a> [monitoring\_enabled\_components](#input_monitoring_enabled_components)                       | List of services to monitor: SYSTEM\_COMPONENTS, WORKLOADS (provider version >= 3.89.0)                                                                                                                                                                                                                                                             | `list(string)`                                                                                                                                                                                                                                                                                                                             | <pre>[<br> "SYSTEM_COMPONENTS",<br> "APISERVER",<br> "CONTROLLER_MANAGER",<br> "SCHEDULER"<br>]</pre>                                                                                                                                                     |    no    |
| <a name="input_monitoring_service"></a> [monitoring\_service](#input_monitoring_service)                                                         | The monitoring service that the cluster should write metrics to. Automatically send metrics from pods in the cluster to the Google Cloud Monitoring API. VM metrics will be collected by Google Compute Engine regardless of this setting Available options include monitoring.googleapis.com, monitoring.googleapis.com/kubernetes (beta) and none | `string`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_name"></a> [name](#input_name)                                                                                                    | The name of the cluster (required)                                                                                                                                                                                                                                                                                                                  | `string`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_network_name"></a> [network\_name](#input_network_name)                                                                           | Name of the VPC                                                                                                                                                                                                                                                                                                                                     | `string`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_network_policy"></a> [network\_policy](#input_network_policy)                                                                     | Enable network policy addon                                                                                                                                                                                                                                                                                                                         | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_network_policy_provider"></a> [network\_policy\_provider](#input_network_policy_provider)                                         | The network policy provider.                                                                                                                                                                                                                                                                                                                        | `string`                                                                                                                                                                                                                                                                                                                                   | `"CALICO"`                                                                                                                                                                                                                                                |    no    |
| <a name="input_node_pools"></a> [node\_pools](#input_node_pools)                                                                                 | List of maps containing node pools                                                                                                                                                                                                                                                                                                                  | `list(map(string))`                                                                                                                                                                                                                                                                                                                        | <pre>[<br> {<br> "name": "main"<br> }<br>]</pre>                                                                                                                                                                                                          |    no    |
| <a name="input_node_pools_labels"></a> [node\_pools\_labels](#input_node_pools_labels)                                                           | Map of maps containing node labels by node-pool name                                                                                                                                                                                                                                                                                                | `map(map(string))`                                                                                                                                                                                                                                                                                                                         | <pre>{<br> "all": {},<br> "main": {}<br>}</pre>                                                                                                                                                                                                           |    no    |
| <a name="input_node_pools_metadata"></a> [node\_pools\_metadata](#input_node_pools_metadata)                                                     | Map of maps containing node metadata by node-pool name                                                                                                                                                                                                                                                                                              | `map(map(string))`                                                                                                                                                                                                                                                                                                                         | <pre>{<br> "all": {},<br> "main": {}<br>}</pre>                                                                                                                                                                                                           |    no    |
| <a name="input_node_pools_oauth_scopes"></a> [node\_pools\_oauth\_scopes](#input_node_pools_oauth_scopes)                                        | Map of lists containing node oauth scopes by node-pool name                                                                                                                                                                                                                                                                                         | `map(list(string))`                                                                                                                                                                                                                                                                                                                        | <pre>{<br> "all": [<br> "https://www.googleapis.com/auth/cloud-platform"<br> ],<br> "main": []<br>}</pre>                                                                                                                                                 |    no    |
| <a name="input_node_pools_tags"></a> [node\_pools\_tags](#input_node_pools_tags)                                                                 | Map of lists containing node network tags by node-pool name                                                                                                                                                                                                                                                                                         | `map(list(string))`                                                                                                                                                                                                                                                                                                                        | <pre>{<br> "all": [],<br> "main": []<br>}</pre>                                                                                                                                                                                                           |    no    |
| <a name="input_node_pools_taints"></a> [node\_pools\_taints](#input_node_pools_taints)                                                           | Map of lists containing node taints by node-pool name                                                                                                                                                                                                                                                                                               | `map(list(object({ key = string, value = string, effect = string })))`                                                                                                                                                                                                                                                                     | <pre>{<br> "all": [],<br> "main": []<br>}</pre>                                                                                                                                                                                                           |    no    |
| <a name="input_project"></a> [project](#input_project)                                                                                           | The project in which the resource belongs                                                                                                                                                                                                                                                                                                           | `string`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_region"></a> [region](#input_region)                                                                                              | The region in which the cluster should be created.                                                                                                                                                                                                                                                                                                  | `string`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_regional"></a> [regional](#input_regional)                                                                                        | Whether is a regional cluster (zonal cluster if set false. WARNING: changing this after cluster creation is destructive!)                                                                                                                                                                                                                           | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_release_channel"></a> [release\_channel](#input_release_channel)                                                                  | The release channel of this cluster. Accepted values are `UNSPECIFIED`, `RAPID`, `REGULAR` and `STABLE`. Defaults to `UNSPECIFIED`.                                                                                                                                                                                                                 | `string`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_remove_default_node_pool"></a> [remove\_default\_node\_pool](#input_remove_default_node_pool)                                     | Remove default node pool while setting up the cluster                                                                                                                                                                                                                                                                                               | `bool`                                                                                                                                                                                                                                                                                                                                     | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_topic_name"></a> [topic\_name](#input_topic_name)                                                                                 | The Pub/Sub topic name for GKE updates                                                                                                                                                                                                                                                                                                              | `string`                                                                                                                                                                                                                                                                                                                                   | n/a                                                                                                                                                                                                                                                       |   yes    |
| <a name="input_zones"></a> [zones](#input_zones)                                                                                                 | The zones to host the cluster in (optional if regional cluster / required if zonal)                                                                                                                                                                                                                                                                 | `list(string)`                                                                                                                                                                                                                                                                                                                             | n/a                                                                                                                                                                                                                                                       |   yes    |

## Outputs

No outputs.

<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
